@using Hallo.ViewModels;
@model ArticleViewModel

@{
    ViewBag.Title = "Article";
}

<h2>@Model.Article.Headline</h2>
<img src="~/images/bluespc.gif" style="height: 1px; width: 95%;" /><br />
<span class="bigtext" style="font-style: italic;">Af @Model.Article.Author</span><br />
<span class="smalltext">@Model.Article.Date.ToShortDateString()</span><br />

<div class="bigtext">
    <table border="0" style="float: right;">
        <tr>
            @if (Model.Article.FrontpageImage != null) {
                <td class="btext" style="width: 200px;">
                    <img class="taimg" src="@Model.FrontPageImage.GetThumbUrl()" />
                    <br />
                    @Model.Article.FrontpageImage.Description
                </td>
            }
        </tr>
    </table>
    <div>
        @Html.Raw(Model.Article.Text)
    </div>
</div>
<table style="text-align: center; margin: 0 auto;">
    <tr>
        @foreach (ImageViewModel i in Model.Images) {
            <td class="btext" style="width: 200px; text-align: left;">
                <img class="taimg" src="@i.GetThumbUrl()" id="img@(i.OrderNr)" onclick="imgbyid(@Model.Article.Id, @i.OrderNr)" /><br />
                @i.Description
            </td>
            @Html.Raw((i.OrderNr + 1) % 3 == 0 ? "</tr><tr>" : "")
        }
    </tr>
</table>
<script>
    function imgbyid(ID, ordernr) {
        popup_win = window.open(
            '/image/Slideshow/?Id=' + ID + "&OrderNr=" + ordernr,
            'imgwin',
            'status=no,scrollbars=yes,width=200,height=40,left,100,top=10,resizable=yes'
        );
        popup_win.opener.name = 'opener';
        popup_win.focus();
    }
</script>

